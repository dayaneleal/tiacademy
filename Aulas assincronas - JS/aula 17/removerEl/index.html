<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <script>
    window.onload = function () {
      //calcular
      function calcular(idProduto, resultado) {

        const preco = document.querySelectorAll(`#${idProduto} > li`);
        const valorResultado = document.querySelector(`#${resultado}`);
        let totalzinho = 0;

        for (let i of preco) {
          totalzinho += Number(i.dataset.preco);
        }

        valorResultado.value = totalzinho
      }
      //remover produtos

      function removerProdutos(id) {
        const lista = document.querySelectorAll(`#${id} > li`);

        for(let produto of lista) {
          produto.addEventListener('click', function(){
            produto.remove();
            calcular('produtos', 'somaTotal')
          })
        }
      }
      calcular('produtos', 'somaTotal')
      removerProdutos('produtos')

    }
  </script>
  <body>
    <ul id="produtos">
      <li data-preco="2.00" data-codigo="1">Bola</li>
      <li data-preco="3.50" data-codigo="2">Peteca</li>
      <li data-preco="4.90" data-codigo="3">Maçã</li>
      <li data-preco="7.90" data-codigo="4">Mouse</li>
    </ul>

    <input type="text" name="" id="somaTotal" />
  </body>
</html>
